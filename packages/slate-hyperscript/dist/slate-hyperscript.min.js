!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("slate")):"function"==typeof define&&define.amd?define(["exports","slate"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).SlateHyperscript={},t.Slate)}(this,(function(t,e){"use strict";function r(t,e){return t(e={exports:{}},e.exports),e.exports}var n=r((function(t){function e(r){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=e=function(t){return typeof t}:t.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(r)}t.exports=e}));var o=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t};
/*!
	 * isobject <https://github.com/jonschlinkert/isobject>
	 *
	 * Copyright (c) 2014-2017, Jon Schlinkert.
	 * Released under the MIT License.
	 */
/*!
	 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
	 *
	 * Copyright (c) 2014-2017, Jon Schlinkert.
	 * Released under the MIT License.
	 */
function i(t){return!0==(null!=(e=t)&&"object"==typeof e&&!1===Array.isArray(e))&&"[object Object]"===Object.prototype.toString.call(t);var e}function c(t){var e,r;return!1!==i(t)&&("function"==typeof(e=t.constructor)&&(!1!==i(r=e.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf")))}var a=function(t){if(Array.isArray(t))return t};var f=function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,i=void 0;try{for(var c,a=t[Symbol.iterator]();!(n=(c=a.next()).done)&&(r.push(c.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}};var u=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n};var s=function(t,e){if(t){if("string"==typeof t)return u(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(t,e):void 0}};var l=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")};var p=function(t,e){return a(t)||f(t,e)||s(t,e)||l()},h=r((function(t){function e(r,n){return t.exports=e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},e(r,n)}t.exports=e}));var y=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)};var b=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t};var d=function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?b(t):e},v=r((function(t){function e(r){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},e(r)}t.exports=e}));var g=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};function w(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=v(t);if(e){var o=v(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return d(this,r)}}var O=new WeakMap,m=new WeakMap,j=function t(){g(this,t)},x=function(t){y(r,t);var e=w(r);function r(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};g(this,r),t=e.call(this);var o=n.offset,i=n.path;return t.offset=o,t.path=i,t}return r}(j),S=function(t){y(r,t);var e=w(r);function r(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};g(this,r),t=e.call(this);var o=n.offset,i=n.path;return t.offset=o,t.path=i,t}return r}(j),P=function(t){return m.get(t)};function E(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function T(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?E(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function A(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return D(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,a=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return c=t.done,t},e:function(t){a=!0,i=t},f:function(){try{c||null==r.return||r.return()}finally{if(a)throw i}}}}function D(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var R=new WeakSet,_=function(t){var r,n=[],o=function t(r){if(null!=r){var o=n[n.length-1];if("string"==typeof r){var i={text:r};R.add(i),r=i}if(e.Text.isText(r)){var c=r;e.Text.isText(o)&&R.has(o)&&R.has(c)&&e.Text.equals(o,c,{loose:!0})?o.text+=c.text:n.push(c)}else if(e.Element.isElement(r))n.push(r);else{if(!(r instanceof j))throw new Error("Unexpected hyperscript child object: ".concat(r));var a=n[n.length-1];e.Text.isText(a)||(t(""),a=n[n.length-1]),r instanceof x?function(t,e){var r=t.text.length;O.set(t,[r,e])}(a,r):r instanceof S&&function(t,e){var r=t.text.length;m.set(t,[r,e])}(a,r)}}},i=A(t.flat(1/0));try{for(i.s();!(r=i.n()).done;){o(r.value)}}catch(t){i.e(t)}finally{i.f()}return n};function I(t,e,r){return T(T({},e),{},{children:_(r)})}function k(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function M(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?k(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var C={anchor:function(t,e,r){return new x(e)},cursor:function(t,e,r){return[new x(e),new S(e)]},editor:function(t,r,n){var o,i,c=[],a=A(n);try{for(a.s();!(i=a.n()).done;){var f=i.value;e.Range.isRange(f)?o=f:c.push(f)}}catch(t){a.e(t)}finally{a.f()}var u=_(c),s={},l=e.createEditor();Object.assign(l,r),l.children=u;var h,y,b=A(e.Node.texts(l));try{for(b.s();!(h=b.n()).done;){var d=p(h.value,2),v=d[0],g=d[1],w=(y=v,O.get(y)),m=P(v);if(null!=w){var j=p(w,1)[0];s.anchor={path:g,offset:j}}if(null!=m){var x=p(m,1)[0];s.focus={path:g,offset:x}}}}catch(t){b.e(t)}finally{b.f()}if(s.anchor&&!s.focus)throw new Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<anchor />`. For collapsed selections, use `<cursor />` instead.");if(!s.anchor&&s.focus)throw new Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<focus />`. For collapsed selections, use `<cursor />` instead.");return null!=o?l.selection=o:e.Range.isRange(s)&&(l.selection=s),l},element:I,focus:function(t,e,r){return new S(e)},fragment:function(t,e,r){return _(r)},selection:function(t,e,r){var n=r.find((function(t){return t instanceof x})),o=r.find((function(t){return t instanceof S}));if(!n||null==n.offset||null==n.path)throw new Error("The <selection> hyperscript tag must have an <anchor> tag as a child with `path` and `offset` attributes defined.");if(!o||null==o.offset||null==o.path)throw new Error("The <selection> hyperscript tag must have a <focus> tag as a child with `path` and `offset` attributes defined.");return T({anchor:{offset:n.offset,path:n.path},focus:{offset:o.offset,path:o.path}},e)},text:function(t,r,n){var o=_(n);if(o.length>1)throw new Error("The <text> hyperscript tag must only contain a single node's worth of children.");var i=p(o,1)[0];if(null==i&&(i={text:""}),!e.Text.isText(i))throw new Error("\n    The <text> hyperscript tag can only contain text content as children.");return R.delete(i),Object.assign(i,r),i}},U=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.elements,r=void 0===e?{}:e,n=q(r),o=M(M(M({},C),n),t.creators),i=W(o);return i},W=function(t){return function(e,r){for(var n=arguments.length,o=new Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];var a=t[e];if(!a)throw new Error("No hyperscript creator found for tag: <".concat(e,">"));null==r&&(r={}),c(r)||(o=[r].concat(o),r={});var f=a(e,r,o=o.filter((function(t){return Boolean(t)})).flat());return f}},q=function(t){var e={},r=function(r){var o=t[r];if("object"!==n(o))throw new Error("Properties specified for a hyperscript shorthand should be an object, but for the custom element <".concat(r,">  tag you passed: ").concat(o));e[r]=function(t,e,r){return I(0,M(M({},o),e),r)}};for(var o in t)r(o);return e},F=U();t.createHyperscript=U,t.jsx=F,Object.defineProperty(t,"__esModule",{value:!0})}));
